(this["webpackJsonpadaptive-svg"]=this["webpackJsonpadaptive-svg"]||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),c=n(10),r=n.n(c),i=(n(72),n.p,n(73),n(124)),a=n(91),l=n(16),u=n(3),j=Object(o.createContext)(),b=function(e){var t=Object(o.useState)(),n=Object(l.a)(t,2),s=n[0],c=n[1],r=Object(o.useRef)(null);return Object(u.jsx)(j.Provider,{value:{mapPanZoom:s,setMapPanZoom:c,rootFocus:r,focusRoot:function(){r.current&&r.current.focus()}},children:e.children})},d=n(61),p=n(57),f=n.n(p),O=n(77);var m=function(){var e=Object(o.useRef)(null),t=Object(o.useContext)(j),n=(t.mapPanZoom,t.setMapPanZoom),s=t.focusRoot,c=Object(a.a)((function(e){return{map:{flex:3,margin:10,border:"8px black"},svg:{height:"100%",width:"100%"}}}))();return Object(u.jsx)(f.a,{className:c.map,handleKeys:["esc"],onKeyEvent:s,children:Object(u.jsx)(d.a,{className:c.svg,src:"".concat("/adaptive-svg","/svg/focus-test.svg"),onError:function(e){},onLoad:function(t){var o=O(e.current,{zoomEnabled:!0,dblClickZoomEnabled:!1});o.zoomAtPoint(1,{x:447,y:183}),n(o)},innerRef:e})})},x=n(23),h=n(129),v=n(136),g=n(134),y=n(133),R=n(132),C=n(135),k=n(130),S=n(131),N=n(127),w=n(36),D=n(60),P=n.n(D),Z=n(128),F=n(137),q=n(139),B=n(126),E=n(138);var I=Object(o.createContext)(),M=function(e){var t=function(){var e=[{question:"Do you experience a motor impairment?",response:null},{question:"Do you experience a colour impairment?",response:null},{question:"Do you have low vision?",response:null},{question:"Do you experience total blindness?",response:null},{question:"Do you have difficulty reading?",response:null},{question:"Do you have difficulties operating doors?",response:null},{question:"Do obstacles disrupt your indoor navigation?",response:null}],t=Object(o.useState)(null),n=Object(l.a)(t,2),s=n[0],c=n[1],r=Object(o.useState)(null),i=Object(l.a)(r,2),a=i[0],u=i[1],j="response";Object(o.useEffect)((function(){var t=b()||e,n=t.map((function(e){return Object(x.a)({},e)})),o=t.map((function(e){return Object(x.a)({},e)}));return c(n),u(o),function(){}}),[]);var b=function(){if("undefined"!==typeof localStorage)try{return JSON.parse(localStorage.getItem(j))}catch(e){console.error(e)}return null},d=function(e){return"undefined"!==typeof localStorage&&(console.log(e),localStorage.setItem(j,JSON.stringify(e)),!0)};return{editableResponse:s,commitedResponse:a,editResponse:function(e,t){c(s.map((function(n,o){return e==o&&(n.response=t),n})))},_commitResponse:function(e){u(e),d(e)},resetResponse:function(){var e=a.map((function(e){return Object(x.a)({},e)}));c(e)}}}(),n=t.editableResponse,s=t.commitedResponse,c=t.editResponse,r=t._commitResponse,i=t.resetResponse,a=Object(o.useState)(null),j=Object(l.a)(a,2),b=j[0],d=j[1];return Object(u.jsx)(I.Provider,{value:{editableResponse:n,commitedResponse:s,editResponse:c,commitResponse:function(){var e=n.map((function(e){return Object(x.a)({},e)}));r(e),function(e){if(e){for(var t=0,n=0;n<e.length;)t+=("yes"==e[n].response?1:0)*Math.pow(2,n),n++;d(t)}else d(0)}(e)},resetResponse:i,responseBinary:b},children:e.children})},z=Object(i.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),J=function(e){var t=e.onChange,n=e.value;return Object(u.jsx)(E.a,{component:"fieldset",children:Object(u.jsxs)(q.a,{"aria-label":"gender",name:"gender1",value:n,onChange:t,row:!0,children:[Object(u.jsx)(B.a,{value:"yes",control:Object(u.jsx)(F.a,{}),label:"Yes"}),Object(u.jsx)(B.a,{value:"no",control:Object(u.jsx)(F.a,{}),label:"No"})]})})},L=s.a.forwardRef((function(e,t){return Object(u.jsx)(Z.a,Object(x.a)({direction:"up",ref:t},e))}));function Q(){Object(o.useContext)(j).setQuestionnaireBinary;var e=Object(o.useContext)(I),t=e.editableResponse,n=(e.commitedResponse,e.editResponse),c=e.commitResponse,r=e.resetResponse,i=z(),a=Object(o.useState)(!1),b=Object(l.a)(a,2),d=b[0],p=b[1],f=function(){r(),p(!1)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(h.a,{variant:"outlined",color:"primary",onClick:function(){p(!0)},children:"Open Questionnaire"}),Object(u.jsxs)(v.a,{fullScreen:!0,open:d,onClose:f,TransitionComponent:L,children:[Object(u.jsx)(k.a,{className:i.appBar,children:Object(u.jsxs)(S.a,{children:[Object(u.jsx)(N.a,{edge:"start",color:"inherit",onClick:f,"aria-label":"close",children:Object(u.jsx)(P.a,{})}),Object(u.jsx)(w.a,{variant:"h6",className:i.title,children:"Map Questionnaire"}),Object(u.jsx)(h.a,{autoFocus:!0,color:"inherit",onClick:function(){c(),p(!1)},children:"save"})]})}),Object(u.jsx)(R.a,{children:t&&t.map((function(e,t){return Object(u.jsxs)(s.a.Fragment,{children:[Object(u.jsxs)(y.a,{children:[Object(u.jsx)(g.a,{primary:e.question}),Object(u.jsx)(J,{onChange:function(e){n(t,e.target.value)},value:e.response})]}),Object(u.jsx)(C.a,{})]},t)}))})]})]})}var T=Object(i.a)((function(e){return{attributes:{flex:1,margin:10,display:"flex",flexDirection:"column",backgroundColor:"whitesmoke"},attribute:{flex:4,margin:10,stroke:"black",strokeWidth:5},buttons:{flex:1,margin:10,display:"flex",justify:"space-between",flexDirection:"row"}}}));var K=function(){var e=T(),t=Object(o.useContext)(j),n=t.mapPanZoom,s=(t.setMapPanZoom,t.rootFocus),c=Object(o.useContext)(I).responseBinary;return Object(u.jsxs)("div",{className:e.attributes,children:[Object(u.jsx)("div",{className:e.attribute,children:Object(u.jsxs)("label",{ref:s,children:["Questionnaire",Object(u.jsx)(Q,{})]})}),Object(u.jsxs)("div",{className:e.attribute,children:[Object(u.jsx)("h1",{children:"Bit Stuffing"}),Object(u.jsx)("h1",{children:c})]}),Object(u.jsx)("div",{className:e.attribute,children:Object(u.jsx)("h1",{children:"Example Controls"})}),Object(u.jsx)("div",{className:e.buttons,children:n&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("label",{children:["Zoom In",Object(u.jsx)("button",{onClick:function(){return n.zoomIn()},children:"+"})]}),Object(u.jsxs)("label",{children:["Zoom Out",Object(u.jsx)("button",{onClick:function(){return n.zoomOut()},children:"-"})]}),Object(u.jsxs)("label",{children:["Reset",Object(u.jsx)("button",{onClick:function(){return n.resetZoom()},children:"x"})]})]})})]})},_=Object(i.a)((function(e){return{root:{minHeight:"90vh",width:"100%",display:"flex",flexDirection:"row"}}}));var A=function(){_();var e=_();return Object(u.jsx)(b,{children:Object(u.jsx)(M,{children:Object(u.jsxs)("div",{className:e.root,children:[Object(u.jsx)(m,{}),Object(u.jsx)(K,{})]})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),o(e),s(e),c(e),r(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root")),H()}},[[88,1,2]]]);
//# sourceMappingURL=main.9b65509f.chunk.js.map
{"version":3,"sources":["logo.svg","context/MapContext.js","context/QuestionnaireContext.js","hooks/useQuestions.js","components/Map.js","components/Questions.js","components/Questionnaire.js","components/KeyboardShortcuts.js","components/FileUploader.js","components/Controls.js","App.js","reportWebVitals.js","index.js"],"names":["MapContext","createContext","MapProvider","props","useState","mapPanZoom","setMapPanZoom","process","svgPath","setSvgPath","roomLabel","setRoomLabel","roomDescription","setRoomDescription","roomFlag","setRoomFlag","rootFocus","useRef","Provider","value","focusRoot","current","focus","children","QuestionnaireContext","QuestionnaireProvider","orginalResponses","question","response","editableResponse","setEditableResponse","commitedResponse","setCommitedResponse","LOCAL_STORAGE_KEY","useEffect","initialResponse","pullResponseLocalStorage","clonedIntitialResponseEditable","map","foo","clonedIntitialResponseCommited","localStorage","JSON","parse","getItem","err","console","error","pushResponseLocalStorage","setItem","stringify","makeEdits","i","j","commitEdits","clonedEditableResponse","resetEdits","clonedCommitedResponse","useQuestions","bitFlag","useMemo","acm","counter","length","calculateBitFlag","svgPanZoom","require","MapKeyboardControls","handleFocusableElements","handleKeys","onKeyEvent","zoomIn","zoomOut","resetZoom","panBy","x","y","Map","svgEl","useContext","iterateLayers","updateLayer","layer","dataset","layerFlag","layerState","isActive","parseInt","tabIndex","useStyles","makeStyles","theme","flex","margin","border","svg","height","width","callback","querySelectorAll","forEach","onLayerFocus","e","target","roomLabelledBy","getAttribute","roomDescribedBy","getElementById","textContent","onLayerBlur","classes","className","src","onError","onLoad","zoomEnabled","dblClickZoomEnabled","preventMouseEventsDefault","zoomAtPoint","addEventListener","innerRef","questionRow","display","fontSize","flexDirection","justifyContent","paddingTop","paddingBottom","paddingLeft","paddingRight","RadioContext","React","RadioGroup","label","state","useRadioGroupState","useRadioGroup","radioGroupProps","labelProps","Radio","ref","inputProps","useRadio","style","Questions","onChange","onRadioChange","Divider","appBar","position","title","marginLeft","spacing","Transition","forwardRef","Slide","direction","Questionnaire","open","setOpen","handleClickOpen","handleClose","Button","variant","color","onClick","Dialog","fullScreen","onClose","TransitionComponent","AppBar","Toolbar","IconButton","edge","Typography","autoFocus","header","KeyboardShortcuts","key","description","Fragment","FileUploader","type","name","event","files","reader","FileReader","onload","result","readAsDataURL","attributes","backgroundColor","attribute","stroke","strokeWidth","buttons","justify","Controls","root","minHeight","App","flexBoxClasses","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document"],"mappings":"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","file":"static/js/main.1e10bb28.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { createContext, useState, useRef } from \"react\";\r\n\r\n//create a context, with createContext api\r\nexport const MapContext = createContext();\r\n\r\nconst MapProvider = (props) => {\r\n  // this state will be shared with all components\r\n  const [mapPanZoom, setMapPanZoom] = useState();\r\n  const [svgPath, setSvgPath] = useState(\r\n    `${process.env.PUBLIC_URL}/svg/focus-test.svg`\r\n  );\r\n  const [roomLabel, setRoomLabel] = useState();\r\n  const [roomDescription, setRoomDescription] = useState();\r\n  const [roomFlag, setRoomFlag] = useState();\r\n  const rootFocus = useRef(null);\r\n\r\n  const focusRoot = () => {\r\n    if (rootFocus.current) {\r\n      rootFocus.current.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MapContext.Provider\r\n      value={{\r\n        mapPanZoom,\r\n        setMapPanZoom,\r\n        rootFocus,\r\n        focusRoot,\r\n        roomLabel,\r\n        setRoomLabel,\r\n        roomDescription,\r\n        setRoomDescription,\r\n        roomFlag,\r\n        setRoomFlag,\r\n        svgPath,\r\n        setSvgPath,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </MapContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MapProvider;\r\n","import { createContext, useState, useMemo } from \"react\";\r\nimport useQuestions from \"../hooks/useQuestions\";\r\n\r\n//create a context, with createContext api\r\nexport const QuestionnaireContext = createContext();\r\n\r\nconst QuestionnaireProvider = (props) => {\r\n  const {\r\n    editableResponse,\r\n    commitedResponse,\r\n    makeEdits,\r\n    commitEdits,\r\n    resetEdits,\r\n  } = useQuestions();\r\n\r\n  const calculateBitFlag = (response) => {\r\n    if (response) {\r\n      // acm => Accumulator\r\n      let acm = 0;\r\n      // Binary number would be {question 7 response}{question 6 response}...{question 1 response}\r\n      // 000000001 & 10000000 = 0 = 0\r\n      // 1101 & 1000000101 = 0101 = 5\r\n      // 13 & 69 = 5\r\n      let counter = 0;\r\n      while (counter < response.length) {\r\n        let responseNumber = response[counter].response == \"yes\" ? 1 : 0;\r\n        acm += responseNumber * 2 ** counter;\r\n        counter++;\r\n      }\r\n      return acm;\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  const bitFlag = useMemo(\r\n    () => (commitedResponse ? calculateBitFlag(commitedResponse) : 0),\r\n    [commitedResponse]\r\n  );\r\n\r\n  return (\r\n    <QuestionnaireContext.Provider\r\n      value={{\r\n        editableResponse,\r\n        commitedResponse,\r\n        makeEdits,\r\n        commitEdits,\r\n        resetEdits,\r\n        bitFlag,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </QuestionnaireContext.Provider>\r\n  );\r\n};\r\n\r\nexport default QuestionnaireProvider;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default function useQuestions() {\r\n  // original questions\r\n  const orginalResponses = [\r\n    {\r\n      question: \"Do you experience a motor impairment?\",\r\n      response: null,\r\n    },\r\n    {\r\n      question: \"Do you experience a colour impairment?\",\r\n      response: null,\r\n    },\r\n    {\r\n      question: \"Do you have low vision?\",\r\n      response: null,\r\n    },\r\n    {\r\n      question: \"Do you experience total blindness?\",\r\n      response: null,\r\n    },\r\n    {\r\n      question: \"Do you have difficulty reading?\",\r\n      response: null,\r\n    },\r\n    {\r\n      question: \"Do you have difficulties operating doors?\",\r\n      response: null,\r\n    },\r\n    {\r\n      question: \"Do obstacles disrupt your indoor navigation?\",\r\n      response: null,\r\n    },\r\n  ];\r\n  // The Questionaire Form is a multi-step form. Users have the option of opting out of any potential\r\n  // changes they make. Therefore we need to maintain two separate state variables for the response that\r\n  // is currently being edited, and the final commited one. Once the user confirms their questionaire response,\r\n  // we copy the contents of editableResponse, to commitedResponse\r\n  const [editableResponse, setEditableResponse] = useState(null);\r\n  const [commitedResponse, setCommitedResponse] = useState(null);\r\n  const LOCAL_STORAGE_KEY = \"cachedResponse\";\r\n\r\n  useEffect(() => {\r\n    // Get Questions From Local Storage\r\n    // If there is no response from local storage, then make the initial response the original questions\r\n    // initialResponse needs to be cloned to avoid the same object being referenced by editableResponse\r\n    // and commitedResponse. They need to be isolated from one another\r\n    const initialResponse = pullResponseLocalStorage() || orginalResponses;\r\n    const clonedIntitialResponseEditable = initialResponse.map((foo) => ({\r\n      ...foo,\r\n    }));\r\n    const clonedIntitialResponseCommited = initialResponse.map((foo) => ({\r\n      ...foo,\r\n    }));\r\n    setEditableResponse(clonedIntitialResponseEditable);\r\n    setCommitedResponse(clonedIntitialResponseCommited);\r\n    return () => {};\r\n  }, []);\r\n\r\n  // Make edits to editableResponse\r\n  const makeEdits = (i, response) => {\r\n    setEditableResponse(\r\n      editableResponse.map((question, j) => {\r\n        if (i == j) {\r\n          question.response = response;\r\n        }\r\n        return question;\r\n      })\r\n    );\r\n  };\r\n\r\n  // Commit any edits made to editableResponse to commitedResponse\r\n  // Clone editableResposne to avoid object sharing between state variables\r\n  const commitEdits = () => {\r\n    const clonedEditableResponse = editableResponse.map((foo) => ({ ...foo }));\r\n    setCommitedResponse(clonedEditableResponse);\r\n    pushResponseLocalStorage(clonedEditableResponse);\r\n  };\r\n\r\n  // Reset any edits made to editableResponse => restore the state of editableResponse\r\n  // to commitedResponse\r\n  const resetEdits = () => {\r\n    const clonedCommitedResponse = commitedResponse.map((foo) => ({ ...foo }));\r\n    setEditableResponse(clonedCommitedResponse);\r\n  };\r\n\r\n  // Pull the cachedResponse from LocalStorage\r\n  const pullResponseLocalStorage = () => {\r\n    if (typeof localStorage !== \"undefined\") {\r\n      try {\r\n        return JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    // If Local Storage Unavailable or JSON parsing fails, then return null\r\n    return null;\r\n  };\r\n\r\n  // Push a response to the localStorage unde the LOCAL_STORAGE_KEY\r\n  const pushResponseLocalStorage = (response) => {\r\n    if (typeof localStorage !== \"undefined\") {\r\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(response));\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return {\r\n    editableResponse,\r\n    commitedResponse,\r\n    makeEdits,\r\n    commitEdits,\r\n    resetEdits,\r\n  };\r\n}\r\n","import { makeStyles } from \"@material-ui/styles\";\r\nimport React, { useRef, useContext, useEffect } from \"react\";\r\nimport { MapContext } from \"../context/MapContext\";\r\nimport { QuestionnaireContext } from \"../context/QuestionnaireContext\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nconst svgPanZoom = require(\"svg-pan-zoom\");\r\n\r\nconst MapKeyboardControls = ({ mapPanZoom }) => (\r\n  /**\r\n   * Could potentially implement key combinations to move diagnolally\r\n   */\r\n  <>\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"shift+=\"]}\r\n      onKeyEvent={() => mapPanZoom.zoomIn()}\r\n    />\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"shift+-\"]}\r\n      onKeyEvent={() => mapPanZoom.zoomOut()}\r\n    />\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"r\"]}\r\n      onKeyEvent={() => mapPanZoom.resetZoom()}\r\n    />\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"shift+right\"]}\r\n      onKeyEvent={() => mapPanZoom.panBy({ x: -20, y: 0 })}\r\n    />\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"shift+left\"]}\r\n      onKeyEvent={() => mapPanZoom.panBy({ x: 20, y: 0 })}\r\n    />\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"shift+up\"]}\r\n      onKeyEvent={() => mapPanZoom.panBy({ x: 0, y: 20 })}\r\n    />\r\n    <KeyboardEventHandler\r\n      handleFocusableElements={true}\r\n      //className={classes.map}\r\n      handleKeys={[\"shift+down\"]}\r\n      onKeyEvent={() => mapPanZoom.panBy({ x: 0, y: -20 })}\r\n    />\r\n  </>\r\n);\r\n\r\nfunction Map() {\r\n  // useRef References\r\n  const svgEl = useRef(null);\r\n  const {\r\n    mapPanZoom,\r\n    setMapPanZoom,\r\n    focusRoot,\r\n    setRoomLabel,\r\n    setRoomDescription,\r\n    setRoomFlag,\r\n    svgPath,\r\n  } = useContext(MapContext);\r\n  const { bitFlag } = useContext(QuestionnaireContext);\r\n\r\n  useEffect(() => {\r\n    iterateLayers(updateLayer);\r\n  }, [bitFlag]);\r\n\r\n  // Tabbing Order\r\n  // Activated Layers -> Neutral Layers -> Inactive Layers\r\n  const updateLayer = (layer) => {\r\n    const { layerFlag, layerState } = layer.dataset;\r\n    if (layerState > -1) {\r\n      // We can dynamically set the tab index to prioritise the tabbing of activated layers\r\n      // A tabbIndex of 1 will be higher on the tabbing priority compared to a tabIndex of 2\r\n      const isActive = (bitFlag & parseInt(layerFlag)) > 0;\r\n      layer.tabIndex = isActive ? \"1\" : \"2\";\r\n      layer.dataset.layerState = isActive ? \"1\" : \"0\";\r\n    } else {\r\n      // A tabbIndex of 3 will be lower on the tabbing priority compared to a tabIndex of 2\r\n      layer.tabIndex = \"3\";\r\n      layer.dataset.layerState = \"-1\";\r\n    }\r\n  };\r\n\r\n  // CSS\r\n  const useStyles = makeStyles((theme) => ({\r\n    map: {\r\n      flex: 3,\r\n      margin: 10,\r\n      border: \"8px black\",\r\n    },\r\n    svg: {\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n    },\r\n  }));\r\n\r\n  // Placeholder\r\n  const onError = (e) => {};\r\n\r\n  // Placeholder\r\n  const onLoad = (e) => {\r\n    // Initialize SVG Pan Zoom\r\n    const foo = svgPanZoom(svgEl.current, {\r\n      zoomEnabled: true,\r\n      dblClickZoomEnabled: false,\r\n      preventMouseEventsDefault: false,\r\n      // controlIconsEnabled: false,\r\n    });\r\n    foo.zoomAtPoint(1, { x: 447, y: 183 });\r\n    setMapPanZoom(foo);\r\n\r\n    iterateLayers((layer) => {\r\n      layer.addEventListener(\"focus\", onLayerFocus);\r\n      layer.addEventListener(\"blur\", onLayerBlur);\r\n      updateLayer(layer);\r\n    });\r\n  };\r\n\r\n  const iterateLayers = (callback) => {\r\n    if (!svgEl.current) {\r\n      return;\r\n    }\r\n    svgEl.current.querySelectorAll(\"[data-layer='root']\").forEach((layer) => {\r\n      callback(layer);\r\n    });\r\n  };\r\n\r\n  // According to W3C draft, the focus event is fired AFTER the previous element has fired the blur event\r\n  // ****** Focus + Blur Fuctions (START) ******\r\n  const onLayerFocus = (e) => {\r\n    const layer = e.target;\r\n    const { layerFlag } = layer.dataset;\r\n    const roomLabelledBy = layer.getAttribute(\"aria-labelledby\");\r\n    const roomDescribedBy = layer.getAttribute(\"aria-describedby\");\r\n    const roomLabel = svgEl.current.getElementById(roomLabelledBy).textContent;\r\n    const roomDescription =\r\n      svgEl.current.getElementById(roomDescribedBy).textContent;\r\n    setRoomLabel(roomLabel);\r\n    setRoomDescription(roomDescription);\r\n    setRoomFlag(layerFlag);\r\n  };\r\n\r\n  const onLayerBlur = (e) => {\r\n    setRoomLabel(null);\r\n    setRoomDescription(null);\r\n    setRoomFlag(null);\r\n  };\r\n  // ****** Focus + Blur Fuctions (END) ******\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <MapKeyboardControls mapPanZoom={mapPanZoom} />\r\n      <KeyboardEventHandler\r\n        className={classes.map}\r\n        handleKeys={[\"esc\"]}\r\n        onKeyEvent={focusRoot}\r\n      >\r\n        <SVG\r\n          className={classes.svg}\r\n          src={svgPath}\r\n          onError={onError}\r\n          onLoad={onLoad}\r\n          innerRef={svgEl}\r\n        />\r\n      </KeyboardEventHandler>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n","import React from \"react\";\r\nimport { useRadioGroupState } from \"@react-stately/radio\";\r\nimport { useRadioGroup, useRadio } from \"@react-aria/radio\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Divider } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  questionRow: {\r\n    display: \"flex\",\r\n    fontSize: 20,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n  },\r\n  question: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n}));\r\n\r\nlet RadioContext = React.createContext(null);\r\n\r\nfunction RadioGroup(props) {\r\n  let { children, label } = props;\r\n  const classes = useStyles();\r\n\r\n  let state = useRadioGroupState(props);\r\n  let { radioGroupProps, labelProps } = useRadioGroup(props, state);\r\n\r\n  return (\r\n    <div {...radioGroupProps} className={classes.questionRow}>\r\n      <span {...labelProps}>{label}</span>\r\n      <div className={classes.question}>\r\n        <RadioContext.Provider value={state}>{children}</RadioContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Radio(props) {\r\n  let { children } = props;\r\n  let state = React.useContext(RadioContext);\r\n  let ref = React.useRef(null);\r\n  let { inputProps } = useRadio(props, state, ref);\r\n\r\n  return (\r\n    <label style={{ display: \"block\" }}>\r\n      <input {...inputProps} ref={ref} />\r\n      {children}\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction Questions({ response, makeEdits }) {\r\n  const onRadioChange = (value, i) => {\r\n    makeEdits(i, value);\r\n  };\r\n\r\n  return response.map((response, i) => (\r\n    <>\r\n      <RadioGroup\r\n        key={i}\r\n        value={response.response}\r\n        label={response.question}\r\n        onChange={(value) => onRadioChange(value, i)}\r\n      >\r\n        <Radio value=\"yes\">Yes</Radio>\r\n        <Radio value=\"no\">No</Radio>\r\n      </RadioGroup>\r\n      <Divider />\r\n    </>\r\n  ));\r\n}\r\n\r\nexport default Questions;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport { FormLabel } from \"@material-ui/core\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { MapContext } from \"../context/MapContext\";\r\nimport useQuestions from \"../hooks/useQuestions\";\r\nimport { QuestionnaireContext } from \"../context/QuestionnaireContext\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport Questions from \"./Questions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\nconst RadioButtonsGroup = ({ onChange, value, index }) => {\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      {/* <FormLabel component=\"legend\">Response</FormLabel> */}\r\n      <RadioGroup\r\n        aria-label=\"gender\"\r\n        name={\"gender\" + index}\r\n        value={value}\r\n        onChange={onChange}\r\n        row\r\n      >\r\n        <FormControlLabel value=\"yes\" control={<Radio />} label=\"Yes\" />\r\n        <FormControlLabel value=\"no\" control={<Radio />} label=\"No\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Questionnaire() {\r\n  const { editableResponse, makeEdits, commitEdits, resetEdits } =\r\n    useContext(QuestionnaireContext);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetEdits();\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    // updatingBinary\r\n    commitEdits();\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <KeyboardEventHandler\r\n        handleFocusableElements={true}\r\n        //className={classes.map}\r\n        handleKeys={[\"q\"]}\r\n        onKeyEvent={handleClickOpen}\r\n      />\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n        Open Questionnaire\r\n      </Button>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Map Questionnaire\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleSave}>\r\n              save\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        {/* <List>\r\n          {editableResponse &&\r\n            editableResponse.map((question, i) => (\r\n              <React.Fragment key={i}>\r\n                <ListItem\r\n                  onKeyUp={(e) => console.log(e, \"eventUp\")}\r\n                  onKeyPress={(e) => console.log(e, \"eventDown\")}\r\n                >\r\n                  <ListItemText primary={question.question} />\r\n                  <RadioButtonsGroup\r\n                    onChange={(e) => {\r\n                      makeEdits(i, e.target.value);\r\n                    }}\r\n                    value={question.response}\r\n                    index={i}\r\n                  />\r\n                </ListItem>\r\n                <Divider />\r\n              </React.Fragment>\r\n            ))}\r\n        </List> */}\r\n        {editableResponse && (\r\n          <Questions response={editableResponse} makeEdits={makeEdits} />\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport { FormLabel } from \"@material-ui/core\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { MapContext } from \"../context/MapContext\";\r\nimport useQuestions from \"../hooks/useQuestions\";\r\nimport { QuestionnaireContext } from \"../context/QuestionnaireContext\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport Questions from \"./Questions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n    fontSize: 20,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    paddingLeft: 200,\r\n    paddingRight: 200,\r\n  },\r\n  questionRow: {\r\n    display: \"flex\",\r\n    fontSize: 20,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    paddingLeft: 10,\r\n    paddingRight: 10,\r\n  },\r\n  question: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function KeyboardShortcuts() {\r\n  const { editableResponse, makeEdits, commitEdits, resetEdits } =\r\n    useContext(QuestionnaireContext);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const shortcuts = [\r\n    {\r\n      key: \"q\",\r\n      description: \"Open questionnaire dialog\",\r\n    },\r\n    {\r\n      key: \"k\",\r\n      description: \"Open keyboard shortcuts dialog\",\r\n    },\r\n    {\r\n      key: \"tab\",\r\n      description: \"Move through elements\",\r\n    },\r\n    {\r\n      key: \"Shift +  - / + / r\",\r\n      description: \"Zoom out/in/reset on map\",\r\n    },\r\n    {\r\n      key: \"Shift + arrow-keys (on main screen)\",\r\n      description: \"Pan map\",\r\n    },\r\n    {\r\n      key: \"esc when focused on map\",\r\n      description: \"Move focus off map to the control menu\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <KeyboardEventHandler\r\n        handleFocusableElements={true}\r\n        //className={classes.map}\r\n        handleKeys={[\"k\"]}\r\n        onKeyEvent={handleClickOpen}\r\n      />\r\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n        Open Keyboard Shortcuts\r\n      </Button>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Keyboard Shortcuts\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <>\r\n          <div className={classes.header}>\r\n            <span>Key</span>\r\n            <span>Description</span>\r\n          </div>\r\n          {shortcuts.map(({ key, description }, i) => (\r\n            <React.Fragment key={i}>\r\n              <div className={classes.questionRow}>\r\n                <span>{key}</span>\r\n                <span>{description}</span>\r\n              </div>\r\n              <Divider />\r\n            </React.Fragment>\r\n          ))}\r\n        </>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nfunction FileUploader({ setSvgPath }) {\r\n  const changeHandler = (event) => {\r\n    let fileToUpload = event.target.files[0];\r\n    let reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      setSvgPath(event.target.result);\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n  };\r\n\r\n  return <input type=\"file\" name=\"file\" onChange={changeHandler} />;\r\n}\r\n\r\nexport default FileUploader;\r\n","import React, { useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Questionnaire from \"./Questionnaire\";\r\nimport { MapContext } from \"../context/MapContext\";\r\nimport { QuestionnaireContext } from \"../context/QuestionnaireContext\";\r\nimport KeyboardShortcuts from \"./KeyboardShortcuts\";\r\nimport FileUploader from \"./FileUploader\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  attributes: {\r\n    flex: 1,\r\n    margin: 10,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    backgroundColor: \"whitesmoke\",\r\n  },\r\n  attribute: { flex: 4, margin: 10, stroke: \"black\", strokeWidth: 5 },\r\n  buttons: {\r\n    flex: 1,\r\n    margin: 10,\r\n    display: \"flex\",\r\n    justify: \"space-between\",\r\n    flexDirection: \"row\",\r\n  },\r\n}));\r\n\r\nfunction Controls() {\r\n  const classes = useStyles();\r\n  const {\r\n    mapPanZoom,\r\n    setMapPanZoom,\r\n    rootFocus,\r\n    roomLabel,\r\n    roomDescription,\r\n    roomFlag,\r\n    setSvgPath,\r\n  } = useContext(MapContext);\r\n  const { commitedResponse, bitFlag } = useContext(QuestionnaireContext);\r\n\r\n  return (\r\n    <div className={classes.attributes}>\r\n      <div className={classes.attribute}>\r\n        <label ref={rootFocus}>\r\n          <p>Questionnaire</p>\r\n          <Questionnaire />\r\n        </label>\r\n        <label>\r\n          <p>Change SVG</p>\r\n          <FileUploader setSvgPath={setSvgPath} />\r\n        </label>\r\n        <label>\r\n          <p>Short Cuts</p>\r\n          <KeyboardShortcuts />\r\n        </label>\r\n      </div>\r\n      <div className={classes.attribute}>\r\n        <h1>Bit Stuffing</h1>\r\n        <h2>{bitFlag}</h2>\r\n      </div>\r\n      <div className={classes.attribute}>\r\n        <h1>Selected Room</h1>\r\n        <h3>Name: {roomLabel ? roomLabel : \"No Room Selected\"}</h3>\r\n        <h3>Description: {roomDescription && roomDescription}</h3>\r\n        <h3>Room Flag: {roomFlag && roomFlag}</h3>\r\n      </div>\r\n      <div className={classes.buttons}>\r\n        {mapPanZoom && (\r\n          <>\r\n            <label>\r\n              Zoom In\r\n              <button onClick={() => mapPanZoom.zoomIn()}>+</button>\r\n            </label>\r\n            <label>\r\n              Zoom Out\r\n              <button onClick={() => mapPanZoom.zoomOut()}>-</button>\r\n            </label>\r\n            <label>\r\n              Reset\r\n              <button onClick={() => mapPanZoom.resetZoom()}>x</button>\r\n            </label>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Controls;\r\n","import React, { useRef, useState } from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Map from \"./components/Map\";\r\nimport Controls from \"./components/Controls\";\r\nimport MapProvider from \"./context/MapContext\";\r\nimport QuestionnaireProvider from \"./context/QuestionnaireContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minHeight: \"90vh\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const flexBoxClasses = useStyles();\r\n\r\n  return (\r\n    <MapProvider>\r\n      <QuestionnaireProvider>\r\n        <div className={flexBoxClasses.root}>\r\n          <Map />\r\n          <Controls />\r\n        </div>\r\n      </QuestionnaireProvider>\r\n    </MapProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}